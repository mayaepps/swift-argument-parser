{"hierarchy":{"paths":[["doc:\/\/ArgumentParser\/documentation\/ArgumentParser"]]},"metadata":{"roleHeading":"Article","role":"article","modules":[{"name":"ArgumentParser"}],"title":"Generating and Installing Completion Scripts"},"schemaVersion":{"patch":0,"major":0,"minor":3},"sections":[],"kind":"article","variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/argumentparser\/installingcompletionscripts"]}],"identifier":{"url":"doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/InstallingCompletionScripts","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Install shell completion scripts generated by your command-line tool."}],"seeAlsoSections":[{"title":"Shell Completion Scripts","identifiers":["doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/CustomizingCompletions","doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/CompletionKind"],"generated":true}],"primaryContentSections":[{"kind":"content","content":[{"level":2,"type":"heading","text":"Overview","anchor":"Overview"},{"type":"paragraph","inlineContent":[{"text":"Command-line tools that you build with ","type":"text"},{"type":"codeVoice","code":"ArgumentParser"},{"type":"text","text":" include a built-in option for generating completion scripts, with support for Bash, Z shell, and Fish. To generate completions, run your command with the "},{"code":"--generate-completion-script","type":"codeVoice"},{"text":" option to generate completions for your specific shell.","type":"text"}]},{"syntax":null,"type":"codeListing","code":["$ example --generate-completion-script bash","#compdef example","local context state state_descr line","_example_commandname=\"example\"","typeset -A opt_args","","_example() {","    integer ret=1","    local -a args","    ...","}","","_example"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The correct method of installing a completion script can depend on both your shell and your configuration."}]},{"anchor":"Installing-Zsh-Completions","type":"heading","level":3,"text":"Installing Zsh Completions"},{"inlineContent":[{"type":"text","text":"If you have "},{"identifier":"https:\/\/ohmyz.sh","isActive":true,"type":"reference"},{"text":" installed, you already have a directory of automatically loading completion scripts — ","type":"text"},{"code":".oh-my-zsh\/completions","type":"codeVoice"},{"text":". Copy your new completion script to that directory.","type":"text"}],"type":"paragraph"},{"syntax":null,"type":"codeListing","code":["$ example --generate-completion-script zsh > ~\/.oh-my-zsh\/completions\/_example"]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""},{"type":"codeVoice","code":"_example"},{"text":".","type":"text"}]}],"type":"aside","style":"note","name":"Your completion script must have the following filename format"},{"inlineContent":[{"type":"text","text":"Without "},{"type":"codeVoice","code":"oh-my-zsh"},{"text":", you’ll need to add a path for completion scripts to your function path, and turn on completion script autoloading. First, add these lines to ","type":"text"},{"code":"~\/.zshrc","type":"codeVoice"},{"type":"text","text":":"}],"type":"paragraph"},{"type":"codeListing","code":["fpath=(~\/.zsh\/completion $fpath)","autoload -U compinit","compinit"],"syntax":null},{"type":"paragraph","inlineContent":[{"type":"text","text":"Next, create a directory at "},{"code":"~\/.zsh\/completion","type":"codeVoice"},{"type":"text","text":" and copy the completion script to the new directory."}]},{"anchor":"Installing-Bash-Completions","level":3,"text":"Installing Bash Completions","type":"heading"},{"inlineContent":[{"type":"text","text":"If you have "},{"type":"reference","isActive":true,"identifier":"https:\/\/github.com\/scop\/bash-completion"},{"text":" installed, you can just copy your new completion script to the ","type":"text"},{"code":"\/usr\/local\/etc\/bash_completion.d","type":"codeVoice"},{"type":"text","text":" directory."}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"Without ","type":"text"},{"code":"bash-completion","type":"codeVoice"},{"type":"text","text":", you’ll need to source the completion script directly. Copy it to a directory such as "},{"type":"codeVoice","code":"~\/.bash_completions\/"},{"type":"text","text":", and then add the following line to "},{"code":"~\/.bash_profile","type":"codeVoice"},{"text":" or ","type":"text"},{"type":"codeVoice","code":"~\/.bashrc"},{"text":":","type":"text"}]},{"type":"codeListing","syntax":null,"code":["source ~\/.bash_completions\/example.bash"]},{"type":"heading","anchor":"Installing-Fish-Completions","text":"Installing Fish Completions","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Copy the completion script to any path listed in the environment variable "},{"code":"$fish_completion_path","type":"codeVoice"},{"text":".  For example, a typical location is ","type":"text"},{"type":"codeVoice","code":"~\/.config\/fish\/completions\/your_script.fish"},{"text":".","type":"text"}]}]}],"references":{"doc://ArgumentParser/documentation/ArgumentParser/CompletionKind":{"title":"CompletionKind","identifier":"doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/CompletionKind","abstract":[{"type":"text","text":"The type of completion to use for an argument or option."}],"kind":"symbol","url":"\/documentation\/argumentparser\/completionkind","role":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"text":"CompletionKind","kind":"identifier"}],"navigatorTitle":[{"kind":"identifier","text":"CompletionKind"}]},"https://ohmyz.sh":{"titleInlineContent":[{"type":"codeVoice","code":"oh-my-zsh"}],"identifier":"https:\/\/ohmyz.sh","url":"https:\/\/ohmyz.sh","type":"link","title":"oh-my-zsh"},"doc://ArgumentParser/documentation/ArgumentParser":{"title":"ArgumentParser","role":"collection","abstract":[{"type":"text","text":"Straightforward, type-safe argument parsing for Swift."}],"identifier":"doc:\/\/ArgumentParser\/documentation\/ArgumentParser","kind":"symbol","type":"topic","url":"\/documentation\/argumentparser"},"doc://ArgumentParser/documentation/ArgumentParser/CustomizingCompletions":{"title":"Customizing Completions","kind":"article","url":"\/documentation\/argumentparser\/customizingcompletions","type":"topic","role":"article","abstract":[{"text":"Provide custom shell completions for your command-line tool’s arguments and options.","type":"text"}],"identifier":"doc:\/\/ArgumentParser\/documentation\/ArgumentParser\/CustomizingCompletions"},"https://github.com/scop/bash-completion":{"titleInlineContent":[{"type":"codeVoice","code":"bash-completion"}],"url":"https:\/\/github.com\/scop\/bash-completion","type":"link","identifier":"https:\/\/github.com\/scop\/bash-completion","title":"bash-completion"}}}